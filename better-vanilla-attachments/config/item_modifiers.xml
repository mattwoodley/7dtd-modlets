<?xml version="1.0" encoding="UTF-8"?>

<configs>

	<!-- Barrel Extended -->

		<!-- Increases range by 50% -->
		<set xpath="//item_modifier[@name='modGunBarrelExtender']//passive_effect[@name='DamageFalloffRange']/@value">.5</set>
		<!-- Bullets travel farther by 50% -->
		<set xpath="//item_modifier[@name='modGunBarrelExtender']//passive_effect[@name='MaxRange']/@value">.5</set>
		<!-- Hip-fire spread is doubled -->
		<set xpath="//item_modifier[@name='modGunBarrelExtender']//passive_effect[@name='SpreadMultiplierHip']/@value">2</set>


	<!-- Bipod -->

		<!-- Reduce spread by 30% at the hip. Additional reduction of 30% when walking or crouching -->
		<set xpath="//item_modifier[@name='modGunBipod']//passive_effect[@name='SpreadMultiplierWalking']/@value">-.3</set>
		<set xpath="//item_modifier[@name='modGunBipod']//passive_effect[@name='SpreadMultiplierHip']/@value">-.3</set>
		<append xpath="//item_modifier[@name='modGunBipod']/effect_group">
			<passive_effect name="SpreadMultiplierCrouching" operation="perc_add" value="-.3"/>
		</append>

		<!-- Whilst idle (not moving), vertical recoil is reduced to 20% and horizontal recoil to 0 (still wavers a little) -->
		<append xpath="//item_modifier[@name='modGunBipod']">
			<effect_group>
				<requirement name="EntityHasMovementTag" tags="idle"/>
				<passive_effect name="KickDegreesVerticalMin" operation="base_set" value="0.2"/>
				<passive_effect name="KickDegreesVerticalMax" operation="base_set" value="0.2"/>
				<passive_effect name="KickDegreesHorizontalMin" operation="base_set" value="0.001"/>
				<passive_effect name="KickDegreesHorizontalMax" operation="base_set" value="0.001"/>
			</effect_group>
		</append>


	<!-- Laser Sight -->

		<!-- Reduce spread by 60% at the hip -->
		<set xpath="//item_modifier[@name='modGunLaserSight']//passive_effect[@name='SpreadMultiplierHip']/@value">-.6</set>


	<!-- Muzzle Brake -->

		<!-- Reduce vertical recoil by 40% and horizontal recoil by 40% -->
		<set xpath="//item_modifier[@name='modGunMuzzleBrake']//passive_effect[starts-with(@name,'KickDegrees')]/@value">-.4</set>


	<!-- Foregrip -->

		<!-- Reduce vertical recoil by 30% and horizontal recoil by 60% -->
		<set xpath="//item_modifier[@name='modGunForegrip']//passive_effect[starts-with(@name,'KickDegreesVertical')]/@value">-.3</set>
		<set xpath="//item_modifier[@name='modGunForegrip']//passive_effect[starts-with(@name,'KickDegreesHorizontal')]/@value">-.6</set>

	<!-- Retracting Stock -->

		<!-- Reduce spread by 30% at the hip -->
		<set xpath="//item_modifier[@name='modGunRetractingStock']//passive_effect[@name='SpreadMultiplierHip']/@value">-.3</set>

	<!-- Cripple 'Em Mod / Melon Popper Mod -->

		<!-- Remove vanilla effects -->
		<remove xpath="//item_modifier[@name='modGunCrippleEm']//effect_group"/>

		<!-- +65% zombie headshot damage. -80% zombie damage on all other body parts. -->
		<append xpath="//item_modifier[@name='modGunCrippleEm']">
			<effect_group>
				<requirement name="HitLocation" body_parts="Head"/>
				<requirement name="EntityTagCompare" target="other" tags="walker"/>
					<passive_effect name="EntityDamage" operation="perc_add" value="0.65"/>
			</effect_group>
			<effect_group>
				<requirement name="!HitLocation" body_parts="Head"/>
				<requirement name="EntityTagCompare" target="other" tags="walker"/>
					<passive_effect name="EntityDamage" operation="perc_add" value="-0.8"/>
			</effect_group>
		</append>

</configs>